<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tutorial</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="info-box-container"></div>

  <div id="tutorial-screen" style="text-align: center; padding: 40px;">
    <h1>ğŸ“˜ Tutorial</h1>
    <p id="tutorial-text">Loading tutorial...</p>

    <button
      id="continue-btn"
      style="margin-top: 20px; padding: 10px 20px; font-size: 16px;"
    >
      Continue to Character Creator
    </button>
  </div>

  <!-- âœ… Full Game Controller Integration -->
  <script type="module">
    import { GameController } from "./src/gameController.js";
    import { QuestManager } from "./src/questManager.js";

    // === Initialize controller and subsystems ===
    const Game = new GameController();
    Game.questManager = new QuestManager(Game);

    // Wait for the Messenger to mount
    window.addEventListener("DOMContentLoaded", () => {
      // Route tutorial text through Messenger
      Game.messenger.display([
        "ğŸ“˜ Welcome to MetaMeda!",
        "Use your mouse to move your character around.",
        "Click objects like the PC or phone to interact.",
        "Earn post points ğŸ’, gain clout ğŸŒ, and climb the MetaMeda ranks!"
      ]);

      // Mirror summary in the on-page <p> (optional redundancy)
      const tutorialText = document.getElementById("tutorial-text");
      tutorialText.textContent =
        "Use your mouse to move your character and interact with hotspots to progress.";

      // Continue button â€” next scene
      document.getElementById("continue-btn").addEventListener("click", () => {
        Game.messenger.info("ğŸ¨ Opening Character Creator...");
        setTimeout(() => (window.location.href = "character-creator.html"), 1200);
      });
    });
  </script>
</body>
</html>
