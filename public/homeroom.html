<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Home Room ‚Äî Framed</title>
<style>
  * { box-sizing:border-box; margin:0; padding:0; }

  body {
    height:100vh; width:100vw; overflow:hidden;
    background:radial-gradient(circle at center,#222 0%,#000 100%);
    display:flex; justify-content:center; align-items:center;
    font-family:"Segoe UI",sans-serif;
  }
.frame {
  position: relative;
  width: 90vw;
  max-width: 1400px;
  height: 80vh;
  max-height: 800px;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 8px solid #00ffff;
  border-radius: 12px;
  box-shadow: 0 0 30px rgba(0,255,255,0.5), inset 0 0 20px rgba(0,255,255,0.2);
  background: #000;
  cursor: none;
}

.sparkle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: white;
  border-radius: 50%;
  pointer-events: none;
  z-index: 9999;
  box-shadow: 0 0 4px white, 0 0 8px rgba(255,255,255,0.8);
  animation: sparklefall 0.8s ease-out forwards;
}

.character-sparkle {
  position: absolute;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 15;
  animation: characterSparklefall 1.2s ease-out forwards;
}

.character-sparkle.blue {
  background: rgba(100, 150, 255, 0.95);
  box-shadow: 0 0 10px rgba(100, 150, 255, 1), 0 0 20px rgba(100, 150, 255, 0.8), 0 0 30px rgba(100, 180, 255, 0.6);
}

.character-sparkle.purple {
  background: rgba(180, 100, 255, 0.95);
  box-shadow: 0 0 10px rgba(180, 100, 255, 1), 0 0 20px rgba(180, 100, 255, 0.8), 0 0 30px rgba(200, 120, 255, 0.6);
}

.character-sparkle.black {
  background: rgba(30, 30, 30, 0.95);
  border: 2px solid rgba(255, 255, 255, 0.6);
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(200, 200, 200, 0.6), 0 0 30px rgba(150, 150, 150, 0.4);
}

.character-sparkle.pink {
  background: rgba(255, 100, 200, 0.95);
  box-shadow: 0 0 10px rgba(255, 100, 200, 1), 0 0 20px rgba(255, 100, 200, 0.8), 0 0 30px rgba(255, 150, 220, 0.6);
}

@keyframes characterSparklefall {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(40px) scale(0.1);
  }
}

@keyframes sparklefall {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(30px) scale(0.2);
  }
}


  .room {
    position:relative;
    width:100%; height:100%;
    background: url('https://ik.imagekit.io/q2zhbhqmf/arcane-league-of-.jpg?updatedAt=1762676313439') center/cover no-repeat;
    cursor:default;
    overflow:hidden;
    display: flex;
    align-items: flex-end;
    justify-content: center;
  }

  .room::before {
    content: '';
    position: absolute;
    inset: 0;
    backdrop-filter: blur(0.3px) brightness(1.05);
    background: 
      linear-gradient(135deg, 
        rgba(255,255,255,0.15) 0%, 
        rgba(255,255,255,0.05) 20%, 
        transparent 40%, 
        transparent 60%,
        rgba(255,255,255,0.03) 80%,
        transparent 100%
      ),
      linear-gradient(45deg,
        transparent 0%,
        rgba(255,255,255,0.08) 45%,
        rgba(255,255,255,0.12) 50%,
        rgba(255,255,255,0.08) 55%,
        transparent 100%
      );
    pointer-events: none;
    z-index: 1;
  }

  .room::after {
    content: '';
    position: absolute;
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.6) 20%, transparent 70%);
    top: 15%;
    left: 70%;
    filter: blur(20px);
    opacity: 0;
    pointer-events: none;
    z-index: 2;
    animation: lensFlare 8s ease-in-out infinite;
  }

  @keyframes lensFlare {
    0%, 90%, 100% {
      opacity: 0;
      transform: scale(0.5);
    }
    92%, 98% {
      opacity: 0.7;
      transform: scale(1.2);
    }
    95% {
      opacity: 1;
      transform: scale(1.5);
    }
  }

  .ground {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 15%;
    background: #000;
    border-top: 3px solid #00ffff;
    z-index: 10;
  }

  .platform-spots {
    position: absolute;
    bottom: 15%;
    left: 0;
    width: 100%;
    height: 3px;
    display: flex;
    justify-content: space-evenly;
    align-items: flex-end;
  }

  .spot-marker {
    position: absolute;
    width: 80px;
    height: 3px;
    background: rgba(0,255,255,0.3);
    bottom: 15%;
  }

  .spot-marker:nth-child(1) { left: 20%; }
  .spot-marker:nth-child(2) { left: 50%; transform: translateX(-50%); }
  .spot-marker:nth-child(3) { left: 80%; }

  .character-container {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 480px;
    height: 480px;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    pointer-events: none;
    transition: left 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 20;
    overflow: visible;
  }

  .character {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: flex-end;
    justify-content: center;
  }

  .character img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    object-position: center bottom;
    transition: transform 0.3s ease;
  }

  .character-container.moving .character img {
    animation: characterHover 0.4s ease-in-out;
  }

  @keyframes characterHover {
    0%, 100% {
      transform: translateY(0px);
    }
    25% {
      transform: translateY(-10px);
    }
    50% {
      transform: translateY(-5px);
    }
    75% {
      transform: translateY(-12px);
    }
  }

  .character img.fallback-orb {
    width: 200px;
    height: 200px;
    border-radius: 50%;
    object-fit: cover;
    box-shadow: 
      0 0 40px rgba(0, 255, 255, 0.8),
      0 0 80px rgba(0, 255, 255, 0.6),
      inset 0 0 30px rgba(0, 255, 255, 0.4);
    border: 3px solid rgba(0, 255, 255, 0.9);
    background: radial-gradient(circle, rgba(0, 255, 255, 0.2) 0%, rgba(0, 0, 0, 0.8) 100%);
    animation: orbGlow 3s ease-in-out infinite, orbFloat 4s ease-in-out infinite;
    position: relative;
    z-index: 30;
  }

  @keyframes orbGlow {
    0%, 100% {
      box-shadow: 
        0 0 40px rgba(0, 255, 255, 0.8),
        0 0 80px rgba(0, 255, 255, 0.6),
        inset 0 0 30px rgba(0, 255, 255, 0.4);
    }
    50% {
      box-shadow: 
        0 0 60px rgba(0, 255, 255, 1),
        0 0 120px rgba(0, 255, 255, 0.8),
        inset 0 0 50px rgba(0, 255, 255, 0.6);
    }
  }

  @keyframes orbFloat {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-20px);
    }
  }

  .character::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: inherit;
    background-size: contain;
    background-position: center bottom;
    background-repeat: no-repeat;
    opacity: 0.25;
    filter: blur(2px) brightness(1.1);
    pointer-events: none;
    transform: scaleY(-1);
    mask-image: linear-gradient(to top, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.4) 30%, transparent 60%);
    -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.4) 30%, transparent 60%);
    z-index: -1;
  }






  .depth-dot {
    display:none;
  }
  
  
  :root {
  --accent: #00ffff;
}

/* ===================================== */
/* ü©µ Nameplate with matching cyan glow  */
/* ===================================== */
.nameplate {
  position: absolute;
  top: 20px;
  left: 20px;
  width: 320px;
  max-width: 380px;
  background: rgba(20, 20, 20, 0.85);
  border: 2px solid var(--accent);
  border-radius: 12px;
  padding: 14px 18px;
  color: #fff;
  box-shadow:
    inset 0 0 15px rgba(0, 255, 255, 0.25),
    0 0 25px rgba(0, 255, 255, 0.6),
    0 0 60px rgba(0, 180, 255, 0.35),
    0 4px 25px rgba(0, 0, 0, 0.6);
  animation: plateGlow 4s ease-in-out infinite;
  z-index: 5;
  overflow: hidden;
}

@keyframes plateGlow {
  0%, 100% {
    box-shadow:
      inset 0 0 15px rgba(0, 255, 255, 0.25),
      0 0 25px rgba(0, 255, 255, 0.6),
      0 0 60px rgba(0, 180, 255, 0.35),
      0 4px 25px rgba(0, 0, 0, 0.6);
  }
  50% {
    box-shadow:
      inset 0 0 30px rgba(0, 255, 255, 0.35),
      0 0 45px rgba(0, 255, 255, 0.8),
      0 0 90px rgba(0, 200, 255, 0.5),
      0 4px 25px rgba(0, 0, 0, 0.6);
  }
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid rgba(255,255,255,0.15);
  padding-bottom: 6px;
  margin-bottom: 10px;
}

.name-text {
  font-size: 20px;
  font-weight: 700;
  letter-spacing: 1px;
  text-transform: uppercase;
  text-shadow:
    0 0 6px rgba(0,255,255,0.9),
    0 0 12px rgba(0,200,255,0.4);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 300px;
}

.rank-badge {
  width: 36px;
  height: 36px;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  border: 2px solid var(--accent);
  border-radius: 50%;
  box-shadow:
    0 0 10px rgba(0,255,255,0.8),
    inset 0 0 8px rgba(0,255,255,0.4);
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 6px;
  text-align: center;
}

.stat-value {
  color: var(--accent);
  font-weight: 700;
  font-size: 14px;
  text-shadow: 0 0 8px rgba(0,255,255,0.6);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.stat-label {
  font-size: 9px;
  text-transform: uppercase;
  color: #aaa;
  letter-spacing: 0.5px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ============================= */
/* üèÜ Rank Display Top Right */
/* ============================= */
.rank-display {
  position: absolute;
  top: 20px;
  right: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  background: rgba(20, 20, 20, 0.85);
  border: 2px solid var(--accent);
  border-radius: 12px;
  padding: 14px 18px;
  box-shadow:
    inset 0 0 15px rgba(0, 255, 255, 0.25),
    0 0 25px rgba(0, 255, 255, 0.6),
    0 0 60px rgba(0, 180, 255, 0.35),
    0 4px 25px rgba(0, 0, 0, 0.6);
  animation: plateGlow 4s ease-in-out infinite;
  z-index: 5;
}

.rank-badge-large {
  width: 80px;
  height: 80px;
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  border: 3px solid var(--accent);
  border-radius: 50%;
  box-shadow:
    0 0 15px rgba(0,255,255,0.8),
    inset 0 0 12px rgba(0,255,255,0.4);
  margin-bottom: 8px;
}

.rank-text {
  font-size: 16px;
  font-weight: 700;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: var(--accent);
  text-shadow:
    0 0 6px rgba(0,255,255,0.9),
    0 0 12px rgba(0,200,255,0.4);
}

/* ============================= */
/* üîπ Hotspots (All Enhanced) */
/* ============================= */
/* ‚úÖ Visible white border around hotspots + label borders */
.hotspot {
  position: absolute;
  width: 2.2%;
  aspect-ratio: 1 / 1;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(0, 255, 255, 0.4) 0%, rgba(0, 136, 255, 0.3) 60%, transparent 100%);
  box-shadow: 0 0 12px rgba(0, 255, 255, 0.5), 0 0 24px rgba(0, 255, 255, 0.3);
  border: 2px solid rgba(255, 255, 255, 0.4);
  cursor: none;
  animation: pulse 2s infinite ease-in-out;
  z-index: 25;
  transition: transform 0.2s ease, box-shadow 0.3s ease, border-color 0.3s ease;
}

/* ‚ú¥Ô∏è Hover Glow */
.hotspot:hover {
  transform: scale(1.3);
  cursor: pointer;
  box-shadow:
    0 0 18px #00ffff,
    0 0 36px #00ffff,
    0 0 60px rgba(0, 255, 255, 0.5);
  border-color: #ffffff;
}

.hotspot:hover::after {
  opacity: 1;
}

/* üè∑Ô∏è Floating label ‚Äî with bold white border directly around the word */
.hotspot::before {
  content: attr(data-label);
  position: absolute;
  bottom: 155%;
  left: 50%;
  transform: translateX(-50%) scale(0.9);
  background: rgba(0, 0, 0, 0.65);
  border: 3px solid #ffffff;             /* ‚¨ÖÔ∏è strong white border */
  color: #00ffff;
  padding: 8px 18px;
  border-radius: 12px;
  font-size: 18px;
  font-weight: 900;
  letter-spacing: 2px;
  text-transform: uppercase;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease, transform 0.2s ease;
  white-space: nowrap;
  text-shadow:
    0 0 10px rgba(0,255,255,0.9),
    0 0 20px rgba(0,255,255,0.6);
  box-shadow:
    0 0 25px rgba(0,255,255,0.8),
    inset 0 0 10px rgba(255,255,255,0.3);
  z-index: 30;
}

/* ‚ú¥Ô∏è Label shows on hover or when character is close */
.hotspot:hover::before,
.hotspot.active::before {
  opacity: 1;
  transform: translateX(-50%) scale(1.1);
  background: rgba(0, 0, 0, 0.85);
  border-color: #ffffff;                /* keep border bright white */
}

/* Label shows on hover or when active */
.hotspot:hover::before,
.hotspot.active::before {
  opacity: 1;
  transform: translateX(-50%) scale(1.1);
}

/* Placement */
#spot1 { left: 20%; bottom: 20%; }
#spot2 { left: 50%; bottom: 20%; }
#spot3 { left: 80%; bottom: 20%; }

/* Breathing motion */
@keyframes pulse {
  0%, 100% { transform: translateY(-50%) scale(1); opacity: 0.5; }
  50%      { transform: translateY(-50%) scale(1.15); opacity: 0.7; }
}

/* ============================= */
/* üîπ Overlay Screens */
/* ============================= */
.overlay-screen {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.85);
  border: 2px solid #00ffff;
  box-shadow: 0 0 40px rgba(0,255,255,0.4);
  color: #fff;
  font-family: 'Segoe UI', sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
  z-index: 999;
}

.overlay-screen.active {
  opacity: 1;
  pointer-events: all;
}
#screen1 {
  background: url("https://www.freeiconspng.com/uploads/computer-monitor-blank-png--19.png") center/cover no-repeat; center/cover no-repeat;
}
#screen1 {
  width: 70%;
  height: 70%;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border-radius: 16px;
  overflow: hidden;
}
#screen1::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.65);
}

.overlay-screen h2 {
  margin-bottom: 10px;
  font-size: 24px;
  color: #00ffff;
}

.overlay-screen p {
  max-width: 80%;
  text-align: center;
  opacity: 0.9;
}

.close-btn {
  position: absolute;
  top: 16px;
  right: 20px;
  font-size: 28px;
  background: none;
  border: none;
  color: #00ffff;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.close-btn:hover {
  transform: scale(1.2);
}

  
/* ‚ú® Animations */



.closet-container {
  width: 90%;
  max-width: 900px;
  margin: 0 auto;
  padding: 30px;
}

.closet-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 20px;
  justify-items: center;
  align-items: center;
  max-height: 60vh;
  overflow-y: auto;
  padding: 20px;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 12px;
  border: 1px solid rgba(0, 255, 255, 0.3);
}

.champion-card {
  position: relative;
  width: 100px;
  height: 100px;
  border-radius: 12px;
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  border: 2px solid rgba(0, 255, 255, 0.4);
  box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
}

.champion-card:hover {
  transform: scale(1.15);
  box-shadow: 0 0 25px rgba(0, 255, 255, 0.8);
  border-color: #00ffff;
}

.champion-card.selected {
  border: 3px solid #ffffff;
  box-shadow: 0 0 30px rgba(255, 255, 255, 0.9), 0 0 50px rgba(0, 255, 255, 1);
  transform: scale(1.1);
}

.champion-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.champion-card::after {
  content: attr(data-name);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.85);
  color: #00ffff;
  padding: 4px;
  font-size: 11px;
  text-align: center;
  text-transform: uppercase;
  font-weight: bold;
  letter-spacing: 0.5px;
}

/* üè∑Ô∏è Floating label for proximity detection */
.hotspot::before {
 
}

/* Show label when hotspot is near character */
.hotspot.near::before {
  opacity: 1;
  transform: translateX(-50%) scale(1.1);
}

/* Enhanced hover effect still works */
.hotspot:hover::before {
  opacity: 1;
  transform: translateX(-50%) scale(1.1);
}

/* ============================= */
/* üíª Mini PC Screen ‚Äî Metallic Beveled Frame */
/* ============================= */
.mini-pc-screen {
  position: absolute;
  width: 80%;
  aspect-ratio: 16 / 9;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background:
    linear-gradient(180deg, rgba(0, 0, 0, 0.9) 0%, rgba(10, 10, 10, 1) 100%),
    url("https://images.unsplash.com/photo-1527443154391-507e9dc6c5cc?auto=format&fit=crop&w=1400&q=80") center/cover no-repeat;
  border-radius: 14px;
  overflow: hidden;
  z-index: 1000;

  /* ü©∂ Metallic gradient frame with bevel + glow */
  border: 10px solid transparent;
  background-clip: padding-box, border-box;
  background-origin: border-box;
  background-image:
    linear-gradient(180deg, rgba(0, 0, 0, 0.9), rgba(10, 10, 10, 1)),
    linear-gradient(145deg, #d7d7d7, #ffffff, #b8b8b8, #8a8a8a);
  box-shadow:
    inset 0 0 15px rgba(255, 255, 255, 0.1),
    0 0 30px rgba(0, 255, 255, 0.35),
    0 0 60px rgba(0, 180, 255, 0.25);
}


/* üñ•Ô∏è Desktop Area (inside mini screen) */
.desktop {
  width: 100%;
  height: 100%;
  display: flex;
  flex-wrap: wrap;
  align-content: flex-start;
  justify-content: flex-start;
  padding: 30px;
  background: radial-gradient(circle at bottom right, rgba(0,255,255,0.08) 0%, transparent 80%);
  position: relative;
  z-index: 3;
}

/* üß≠ App Icons */
.app-icon {
  width: 72px;
  height: 72px;
  margin: 15px;
  border-radius: 12px;
  background: rgba(255,255,255,0.08);
  border: 2px solid rgba(255,255,255,0.2);
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
  cursor: pointer;
}

.app-icon img {
  width: 65%;
  height: 65%;
  object-fit: contain;
  filter: drop-shadow(0 0 4px rgba(0,255,255,0.5));
  pointer-events: none;
}

.app-icon:hover {
  transform: scale(1.15);
  box-shadow: 0 0 20px rgba(0,255,255,0.6);
  border-color: #00ffff;
  background: rgba(0,255,255,0.15);
}

.app-icon:active {
  transform: scale(1.05);
  box-shadow: 0 0 12px rgba(0,255,255,0.4);
}

/* Label text */
.app-icon::before {
  content: attr(data-app);
  position: absolute;
  bottom: -20px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 12px;
  color: #00ffff;
  text-shadow: 0 0 6px rgba(0,255,255,0.8);
  letter-spacing: 1px;
}


.app-icon:hover {
  transform: scale(1.15);
  box-shadow: 0 0 20px rgba(0,255,255,0.6);
  border-color: #00ffff;
  background: rgba(0,255,255,0.15);
}

/* ‚ú® Scanline Overlay */
.mini-pc-screen::after {
  content: "";
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.03) 0px,
    rgba(255,255,255,0.03) 1px,
    transparent 2px,
    transparent 4px
  );
  pointer-events: none;
  mix-blend-mode: overlay;
  opacity: 0.25;
  z-index: 4;
}
.mini-pc-screen {
  background:
    url("https://i.redd.it/9s2t54ycbtz71.jpg") center/cover no-repeat,
    linear-gradient(180deg, rgba(0,0,0,0.9) 0%, rgba(10,10,10,1) 100%);
}


.app-window {
  position: absolute;
  inset: 40px 40px 40px 40px; /* adds spacing within the mini-pc frame */
  width: auto;
  height: auto;
  background: rgba(20,20,20,0.95);
  border: 2px solid #00ffff;
  border-radius: 10px;
  box-shadow: 0 0 15px rgba(0,255,255,0.4);
  color: #fff;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  z-index: 10;
}


/* ============================= */
/* üîπ App Window pc close Button */
/* ============================= */
.app-header {
  position: relative;
  background: rgba(0, 255, 255, 0.1);
  border-bottom: 1px solid rgba(0, 255, 255, 0.3);
  padding: 6px 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: bold;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: #00ffff;
  font-size: 13px;
}

.app-header {
  position: relative;
  z-index: 20; /* ‚¨ÖÔ∏è make header layer above everything else */
}

.close-app {
  position: absolute;
  top: 6px;
  right: 10px;
  background: none;
  border: none;
  color: #00ffff;
  font-size: 18px;
  cursor: pointer;
  transition: all 0.2s ease;
  z-index: 21; /* ‚¨ÖÔ∏è ensure it floats above scanlines or gradients */
}

.close-app:hover {
  color: #ffffff;
  transform: scale(1.25);
  text-shadow: 0 0 6px #00ffff;
}


.close-pc {
  position: absolute;
  top: 12px;
  right: 16px;
  font-size: 28px;
  background: none;
  border: none;
  color: #00ffff;
  cursor: pointer;
  z-index: 10;
  transition: transform 0.2s ease, color 0.2s ease;
}

.close-pc:hover {
  transform: scale(1.25);
  color: #ffffff;
}

/* Optional: smooth hide animation */
.mini-pc-screen {
  opacity: 1;
  transition: opacity 0.4s ease;
}


  
</style>
</head>
<body>
<!--Gameframe---------------------------->
  <div class="frame">

    
<!-- üèÜ Rank Display Top Right -->
<div class="rank-display" id="rank-display">
  <div class="rank-badge-large" id="rank-badge-large"></div>
  <div class="rank-text" id="rank-text"></div>
</div>

<!-- ü©µ HUD Nameplate -->
<div class="nameplate" id="hud">
  <div class="header">
    <div class="name-text" id="summoner-name"></div>
    <div class="rank-badge" id="summoner-badge"></div>
  </div>

  <div class="stats-grid">
    <div><div class="stat-value" id="summoner-level"></div><div class="stat-label">Level</div></div>
    <div><div class="stat-value" id="summoner-lp"></div><div class="stat-label">LP</div></div>
    <div><div class="stat-value" id="summoner-wins"></div><div class="stat-label">Wins</div></div>
    <div><div class="stat-value" id="summoner-losses"></div><div class="stat-label">Losses</div></div>
  </div>
</div>


    
<!-- üîπ Frame inside ---------->
    <div class="room">
      <div class="ground"></div>
      
      <div class="spot-marker"></div>
      <div class="spot-marker"></div>
      <div class="spot-marker"></div>
      
     <div class="character-container">
        <div class="character">
          <img id="character-img" src="" alt="Character">
        </div>
      </div>
      
<!-- üîπ Hotspot placement -->
<div class="hotspot" id="spot1" data-label="PC"></div>
<div class="hotspot" id="spot2" data-label="STYLE"></div>
<div class="hotspot" id="spot3" data-label="PHONE"></div>
      </div>
    </div>
  </div>
  
  
<!-- üîπ Overlay Screens  ------------------------>
<div class="overlay-screen" id="screen1">
  <button class="close-btn">√ó</button>

  <div class="mini-pc-screen">
    <div class="desktop">
      <div class="app-icon" data-app="reddit">
        <img src="https://freelogopng.com/images/all_img/1658834095reddit-logo-png.png" alt="Reddit">
      </div>

      <div class="app-icon" data-app="notes">
        <img src="https://cdn-icons-png.flaticon.com/512/2965/2965358.png" alt="Notes">
      </div>

      <div class="app-icon" data-app="signalz">
        <img src="https://cdn-icons-png.flaticon.com/512/5968/5968778.png" alt="Signalz">
      </div>
    </div>

    <!-- üß© Mini Apps ------------------------>
  <div class="app-icon" data-app="league">
  <img src="https://upload.wikimedia.org/wikipedia/en/7/77/League_of_Legends_logo.png" alt="League">
</div>

  <!-- üîπ App 2 ------------------>
    <div class="mini-app-window" id="app-notes" style="display: none;">
      <h2>Notes App</h2>
      <textarea placeholder="Type your notes here..."></textarea>
    </div>
 
       
  <!-- üîπ App 3------------------>
    <div class="mini-app-window" id="app-signalz" style="display: none;">
      <h2>SignalZ Hub</h2>
      <p>Future integration point for live SignalZ feed.</p>
    </div>
  </div>
</div>

<!-- üîπ SEPARATE Champion Closet Overlay (screen2) -->
<div class="overlay-screen" id="screen2">
  <button class="close-btn">√ó</button>
  <div class="closet-container">
    <h2 style="color: #00ffff; margin-bottom: 20px;">Champion Closet</h2>
    <div id="closet-champions" class="closet-grid">
      <p style="color: #aaa;">Loading champions from your recent match...</p>
    </div>
  </div>
</div>   
    
    
<div class="overlay-screen" id="screen3">
  <button class="close-btn">√ó</button>
  <h2>Screen Three</h2>
  <p>This is the third in-game screen.</p>
</div>

 <!-- ‚úÖ Game Controller ------------------------------------------------------------------------>
<script type="module" src="src/gameController.js"></script>
  <script>
  window.addEventListener("DOMContentLoaded", () => {
    const room = document.querySelector('.room');
    const character = document.querySelector('.character-container');
    const charImg = document.getElementById('character-img');

    const frame = document.querySelector('.frame');
    let lastSparkleTime = 0;
    const sparkleInterval = 30;

    frame.addEventListener('mousemove', (e) => {
      const now = Date.now();
      if (now - lastSparkleTime > sparkleInterval) {
        createSparkle(e.clientX, e.clientY);
        lastSparkleTime = now;
      }
    });

    function createSparkle(x, y) {
      const sparkle = document.createElement('div');
      sparkle.className = 'sparkle';
      sparkle.style.left = x + 'px';
      sparkle.style.top = y + 'px';
      
      const variation = (Math.random() - 0.5) * 10;
      sparkle.style.left = (x + variation) + 'px';
      
      document.body.appendChild(sparkle);
      
      setTimeout(() => {
        sparkle.remove();
      }, 800);
    }

    const controller = window.MetaMeda;
    const savedStyle = localStorage.getItem("selectedStyle");
    let selectedCharacter = localStorage.getItem('selectedChampion') || null;
    
    async function loadRiotProfile() {
      const summonerData = localStorage.getItem("summonerData");
      if (!summonerData) {
        console.log("No summoner data found");
        return;
      }
      
      const data = JSON.parse(summonerData);
      
      document.getElementById("summoner-name").textContent = `${data.name}#${data.tagLine}` || "Unknown";
      document.getElementById("summoner-level").textContent = data.level || "‚Äî";
      document.getElementById("summoner-lp").textContent = data.lp || "0 LP";
      document.getElementById("summoner-wins").textContent = data.wins || "0";
      document.getElementById("summoner-losses").textContent = data.losses || "0";
      
      const rank = data.rank || "Unranked";
      document.getElementById("rank-text").textContent = rank;
      
      const rankBadgeLarge = document.getElementById('rank-badge-large');
      const rankMap = {
        'Iron': 'METAMEDIA/Rank=Iron.png',
        'Bronze': 'METAMEDIA/Rank=Bronze.png',
        'Silver': 'METAMEDIA/Rank=Silver.png',
        'Gold': 'METAMEDIA/Rank=Gold.png',
        'Platinum': 'METAMEDIA/Rank=Platinum.png',
        'Emerald': 'METAMEDIA/Rank=Emerald.png',
        'Diamond': 'METAMEDIA/Rank=Diamond.png',
        'Master': 'METAMEDIA/Rank=Master.png',
        'Grandmaster': 'METAMEDIA/Rank=Grandmaster.png',
        'Challenger': 'METAMEDIA/Rank=Challenger.png'
      };
      
      const baseRank = rank.split(' ')[0];
      const rankBadgePath = rankMap[baseRank] || 'METAMEDIA/lol.jpeg';
      rankBadgeLarge.style.backgroundImage = `url(${rankBadgePath})`;
      
      const badgeEl = document.getElementById('summoner-badge');
      
      if (selectedCharacter) {
        const championRenderUrl = `https://wiki.leagueoflegends.com/en-us/images/${selectedCharacter}_Render.png`;
        charImg.onerror = () => {
          console.warn(`Render image failed to load for ${selectedCharacter}, using thumbnail in orb`);
          charImg.classList.add('fallback-orb');
          charImg.src = `https://ddragon.leagueoflegends.com/cdn/14.1.1/img/champion/${selectedCharacter}.png`;
        };
        charImg.classList.remove('fallback-orb');
        charImg.src = championRenderUrl;
        console.log(`Restored selected champion: ${selectedCharacter} with render image`);
      } else if (data.profileIconUrl) {
        charImg.classList.add('fallback-orb');
        charImg.src = data.profileIconUrl;
        badgeEl.style.backgroundImage = `url(${data.profileIconUrl})`;
      } else {
        charImg.classList.add('fallback-orb');
        charImg.src = "./METAMEDIA/lol.jpeg";
        badgeEl.style.backgroundImage = `url(./METAMEDIA/lol.jpeg)`;
      }
      
      if (data.profileIconUrl && !selectedCharacter) {
        badgeEl.style.backgroundImage = `url(${data.profileIconUrl})`;
      }
      
      try {
        const accountRes = await fetch(`/.netlify/functions/riot-api?endpoint=/riot/account/v1/accounts/by-riot-id/${encodeURIComponent(data.name)}/${encodeURIComponent(data.tagLine)}&region=americas`);
        if (!accountRes.ok) throw new Error("Failed to get account data");
        
        const accountData = await accountRes.json();
        const puuid = accountData.puuid;
        
        const summonerRes = await fetch(`/.netlify/functions/riot-api?endpoint=/lol/summoner/v4/summoners/by-puuid/${puuid}&region=na1`);
        if (!summonerRes.ok) throw new Error("Failed to get summoner data");
        
        const summonerApiData = await summonerRes.json();
        const profileIconId = summonerApiData.profileIconId;
        
        const riotIconUrl = `https://ddragon.leagueoflegends.com/cdn/14.1.1/img/profileicon/${profileIconId}.png`;
        
        if (!selectedCharacter) {
          charImg.classList.add('fallback-orb');
          charImg.src = riotIconUrl;
        }
        
        badgeEl.style.backgroundImage = `url(${riotIconUrl})`;
        
        const updatedData = { ...data, profileIconUrl: riotIconUrl, puuid };
        localStorage.setItem("summonerData", JSON.stringify(updatedData));
        
        console.log("Profile icon updated from Riot API");
      } catch (err) {
        console.log("Using scraped profile icon:", err.message);
      }
    }
    
    loadRiotProfile();
    
    if (selectedCharacter) {
      loadChampionBackground(selectedCharacter);
    }
    

async function loadClosetChampions() {
  const summonerData = localStorage.getItem("summonerData");
  if (!summonerData) {
    document.getElementById("closet-champions").innerHTML = '<p style="color: #ff6b6b;">No summoner data found. Please login first.</p>';
    return;
  }

  const data = JSON.parse(summonerData);
  const puuid = data.puuid;

  if (!puuid) {
    document.getElementById("closet-champions").innerHTML = '<p style="color: #ff6b6b;">PUUID not found. Please refresh your profile.</p>';
    return;
  }

  try {
    const matchIdsRes = await fetch(`/.netlify/functions/riot-api?endpoint=/lol/match/v5/matches/by-puuid/${puuid}/ids?start=0&count=1&region=americas`);
    if (!matchIdsRes.ok) throw new Error("Failed to fetch match IDs");
    
    const matchIds = await matchIdsRes.json();
    
    if (!matchIds || matchIds.length === 0) {
      document.getElementById("closet-champions").innerHTML = '<p style="color: #aaa;">No recent matches found.</p>';
      return;
    }

    const recentMatchId = matchIds[0];
    
    const matchRes = await fetch(`/.netlify/functions/riot-api?endpoint=/lol/match/v5/matches/${recentMatchId}&region=americas`);
    if (!matchRes.ok) throw new Error("Failed to fetch match details");
    
    const matchData = await matchRes.json();
    
    const participants = matchData.info.participants;
    const summoner = participants.find(p => p.puuid === puuid);
    
    if (!summoner) {
      document.getElementById("closet-champions").innerHTML = '<p style="color: #ff6b6b;">Could not find summoner in match.</p>';
      return;
    }

    const teamId = summoner.teamId;
    const teamChampions = participants.filter(p => p.teamId === teamId);

    const championsRes = await fetch('https://ddragon.leagueoflegends.com/cdn/14.1.1/data/en_US/champion.json');
    if (!championsRes.ok) throw new Error("Failed to fetch champion data");
    
    const championsData = await championsRes.json();
    const championMap = {};
    
    for (const champKey in championsData.data) {
      const champ = championsData.data[champKey];
      championMap[champ.key] = champ.id;
    }

    const closetContainer = document.getElementById("closet-champions");
    closetContainer.innerHTML = '';

    teamChampions.forEach(participant => {
      const championId = participant.championId.toString();
      const championName = championMap[championId];
      
      if (championName) {
        const championCard = document.createElement('div');
        championCard.className = 'champion-card';
        championCard.setAttribute('data-name', championName);
        championCard.setAttribute('data-champion-id', championId);
        
        if (selectedCharacter === championName) {
          championCard.classList.add('selected');
        }
        
        const championImg = document.createElement('img');
        championImg.src = `https://ddragon.leagueoflegends.com/cdn/14.1.1/img/champion/${championName}.png`;
        championImg.alt = championName;
        
        championCard.addEventListener('click', async () => {
          document.querySelectorAll('.champion-card').forEach(card => {
            card.classList.remove('selected');
          });
          
          championCard.classList.add('selected');
          
          const charImg = document.getElementById('character-img');
          const renderUrl = `https://wiki.leagueoflegends.com/en-us/images/${championName}_Render.png`;
          
          charImg.onerror = () => {
            console.warn(`Render image failed to load for ${championName}, using thumbnail in orb`);
            charImg.classList.add('fallback-orb');
            charImg.src = `https://ddragon.leagueoflegends.com/cdn/14.1.1/img/champion/${championName}.png`;
          };
          
          charImg.classList.remove('fallback-orb');
          charImg.src = renderUrl;
          
          selectedCharacter = championName;
          localStorage.setItem('selectedChampion', championName);
          
          console.log(`Selected champion: ${championName}, using render image`);
          
          await loadChampionBackground(championName);
        });
        
        championCard.appendChild(championImg);
        closetContainer.appendChild(championCard);
      }
    });

    console.log(`Loaded ${teamChampions.length} champions from recent match`);
    
  } catch (err) {
    console.error('Error loading closet champions:', err);
    document.getElementById("closet-champions").innerHTML = `<p style="color: #ff6b6b;">Error: ${err.message}</p>`;
  }
}

async function loadChampionBackground(championName) {
  try {
    const cachedBackgrounds = JSON.parse(localStorage.getItem('championBackgrounds') || '{}');
    
    if (cachedBackgrounds[championName]) {
      console.log(`Using cached background for ${championName}`);
      applyChampionBackground(cachedBackgrounds[championName]);
      return;
    }
    
    console.log(`Fetching background for ${championName} from wiki...`);
    
    const response = await fetch(`/.netlify/functions/champion-bg-scraper?champion=${encodeURIComponent(championName)}`);
    
    if (!response.ok) {
      console.warn(`Failed to fetch background for ${championName}`);
      return;
    }
    
    const data = await response.json();
    
    if (data.backgroundUrl) {
      cachedBackgrounds[championName] = data.backgroundUrl;
      localStorage.setItem('championBackgrounds', JSON.stringify(cachedBackgrounds));
      
      applyChampionBackground(data.backgroundUrl);
      console.log(`Background loaded and cached for ${championName}`);
    }
  } catch (error) {
    console.error(`Error loading background for ${championName}:`, error);
  }
}

function applyChampionBackground(backgroundUrl) {
  const room = document.querySelector('.room');
  if (room) {
    room.style.backgroundImage = `url('${backgroundUrl}')`;
    room.style.backgroundSize = 'cover';
    room.style.backgroundPosition = 'center';
    room.style.backgroundRepeat = 'no-repeat';
  }
}

const spot2 = document.getElementById('spot2');
if (spot2) {
  spot2.addEventListener('click', () => {
    loadClosetChampions();
  });
}


  //==================================================================
    const platformPositions = [20, 50, 80];
    let currentPlatform = 1;

    document.addEventListener('keydown', e => {
      if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') {
        if (currentPlatform > 0) {
          currentPlatform--;
          updateCharacterPosition();
        }
      } else if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') {
        if (currentPlatform < 2) {
          currentPlatform++;
          updateCharacterPosition();
        }
      } else if (e.key === 'Enter') {
        const nearHotspot = document.querySelector('.hotspot.near');
        if (nearHotspot) {
          nearHotspot.click();
        }
      }
    });

    document.addEventListener('click', e => {
      const rect = room.getBoundingClientRect();
      const clickX = ((e.clientX - rect.left) / rect.width) * 100;
      
      if (clickX < 35) {
        currentPlatform = 0;
      } else if (clickX < 65) {
        currentPlatform = 1;
      } else {
        currentPlatform = 2;
      }
      updateCharacterPosition();
    });

    room.addEventListener('mousemove', e => {
      const rect = room.getBoundingClientRect();
      const mouseX = ((e.clientX - rect.left) / rect.width) * 100;
      
      if (mouseX < 35) {
        currentPlatform = 0;
      } else if (mouseX < 65) {
        currentPlatform = 1;
      } else {
        currentPlatform = 2;
      }
      updateCharacterPosition();
    });

    let lastCharacterX = null;
    let lastCharacterSparkleTime = 0;
    const characterSparkleInterval = 50;

    function updateCharacterPosition() {
      const characterContainer = document.querySelector('.character-container');
      if (characterContainer) {
        const oldLeft = parseFloat(characterContainer.style.left) || 50;
        const newLeft = platformPositions[currentPlatform];
        characterContainer.style.left = `${newLeft}%`;
        
        if (oldLeft !== newLeft) {
          createCharacterSparkleTrail(characterContainer);
        }
      }
      checkHotspotProximity();
    }

    function createCharacterSparkleTrail(container) {
      const rect = container.getBoundingClientRect();
      const centerX = rect.left + rect.width / 2;
      const centerY = rect.top + rect.height / 2;
      
      container.classList.add('moving');
      setTimeout(() => {
        container.classList.remove('moving');
      }, 400);
      
      const sparkleCount = 15;
      for (let i = 0; i < sparkleCount; i++) {
        setTimeout(() => {
          createCharacterSparkle(centerX, centerY);
        }, i * 30);
      }
    }

    function createCharacterSparkle(x, y) {
      const sparkle = document.createElement('div');
      const colors = ['blue', 'purple', 'black', 'pink'];
      const colorClass = colors[Math.floor(Math.random() * colors.length)];
      sparkle.className = `character-sparkle ${colorClass}`;
      
      const offsetX = (Math.random() - 0.5) * 80;
      const offsetY = (Math.random() - 0.5) * 80;
      
      sparkle.style.left = (x + offsetX) + 'px';
      sparkle.style.top = (y + offsetY) + 'px';
      
      document.body.appendChild(sparkle);
      
      setTimeout(() => {
        sparkle.remove();
      }, 1200);
    }

    updateCharacterPosition();


 

// üîç Proximity detection for hotspot labels
function checkHotspotProximity() {
  const character = document.querySelector('.character-container');
  const hotspots = document.querySelectorAll('.hotspot');
  const proximityThreshold = 150;

  const charRect = character.getBoundingClientRect();
  const charCenterX = charRect.left + charRect.width / 2;
  const charCenterY = charRect.top + charRect.height / 2;

  hotspots.forEach(hotspot => {
    const hotspotRect = hotspot.getBoundingClientRect();
    const hotspotCenterX = hotspotRect.left + hotspotRect.width / 2;
    const hotspotCenterY = hotspotRect.top + hotspotRect.height / 2;

    const distance = Math.hypot(
      charCenterX - hotspotCenterX,
      charCenterY - hotspotCenterY
    );

    if (distance < proximityThreshold) {
      hotspot.classList.add('near');
    } else {
      hotspot.classList.remove('near');
    }
  });
}
  });


//===========================================
// üîπ Hotspot -> Overlay Control
// ===============================
const hotspots = document.querySelectorAll('.hotspot');
const screens = document.querySelectorAll('.overlay-screen');

hotspots.forEach((spot, i) => {
  spot.addEventListener('click', () => {
    // Hide any open screen first
    screens.forEach(s => s.classList.remove('active'));
    // Show this one
    screens[i].classList.add('active');
  });
});

// Close buttons
document.querySelectorAll('.close-btn').forEach(btn => {
  btn.addEventListener('click', e => {
    const overlay = e.target.closest('.overlay-screen');
    overlay.classList.remove('active');

    // üßπ also close any mini apps if this was the PC screen
    if (overlay.id === "screen1") {
      closeAllApps();
    }
  });
});


// Optional: ESC to close
document.addEventListener('keydown', e => {
  if (e.key === 'Escape') {
    screens.forEach(s => s.classList.remove('active'));
  }
});

    
//======MiniApps==============================================================

// Handle opening mini apps
document.querySelectorAll('.app-icon').forEach(icon => {
  icon.addEventListener('click', () => {
    const appName = icon.dataset.app;
    openApp(appName);
  });
});

function openApp(appName) {
  // close previous app windows inside the mini-pc
  document.querySelectorAll('.app-window').forEach(w => w.remove());

  const win = document.createElement('div');
  win.className = 'app-window';

  // üß© Reddit mini-app
 if (appName === "reddit") {
  win.innerHTML = `
    <div class="app-header reddit-nav">
      <div class="reddit-left">
        <img class="reddit-logo" src="https://www.redditstatic.com/desktop2x/img/favicon/apple-icon-57x57.png" alt="reddit">
        <span class="reddit-title">Reddit</span>
      </div>
      <div class="reddit-tabs">
        <button class="tab active">Home</button>
        <button class="tab">Popular</button>
        <button class="tab">Explore</button>
      </div>
      <button class="close-app">√ó</button>
    </div>

    <div class="app-body reddit-body">
      <div class="reddit-feed" id="reddit-feed">
        ${generateRandomPosts()}
      </div>
    </div>
  `;
}


  // ‚úÖ append window inside the mini-pc-screen, not global body
  document.querySelector('.mini-pc-screen').appendChild(win);

  // üîª close-button logic
  win.querySelector('.close-app').addEventListener('click', () => win.remove());
}

//======MiniApps End==========================================================


  //======================================================
  </script>

</body>
</html>
